{% extends "emails/base.html" %}

{% block content %}
<div>
    <div style="padding: 40px 20px;">
        <!-- Header -->
        <div style="text-align: center; margin-bottom: 40px;">
            <h1 style="color: #1e3a8a; font-size: 28px; font-weight: bold; margin: 0 0 10px 0;">
                Project Invitation
            </h1>
            <p style="color: #6b7280; font-size: 16px; margin: 0;">
                You've been invited to join a project on Safe Bill
            </p>
        </div>

        <!-- Invitation Code Box - Prominent Display -->
        <div style="background: #f0f9ff; border: 2px solid #0ea5e9; border-radius: 12px; padding: 25px; margin-bottom: 30px; text-align: center;">
            <h2 style="color: #0369a1; font-size: 18px; font-weight: 600; margin: 0 0 15px 0;">
                ðŸ”‘ Your Project Invitation Code
            </h2>
            <p style="color: #0369a1; font-size: 16px; line-height: 1.6; margin: 0 0 20px 0;">
                Copy this code and use it on the Safe Bill dashboard to view your project:
            </p>
            <div style="background: #ffffff; border: 1px solid #0ea5e9; border-radius: 8px; padding: 15px; margin-bottom: 15px; display: inline-block;">
                <p style="color: #0369a1; font-size: 18px; font-family: monospace; font-weight: 600; margin: 0; letter-spacing: 1px;">
                    {{ invitation_token }}
                </p>
            </div>
            <p style="color: #0369a1; font-size: 14px; line-height: 1.6; margin: 0;">
                <strong>Quick Access:</strong> Go to your buyer dashboard and click "Accept Project Invite" to enter this code.
            </p>
        </div>

        <!-- Greeting -->
        <div style="margin-bottom: 30px;">
            <p style="color: #374151; font-size: 16px; line-height: 1.6; margin: 0;">
                Hello there! ðŸ‘‹
            </p>
            <p style="color: #374151; font-size: 16px; line-height: 1.6; margin: 20px 0 0 0;">
                We hope this email finds you well. We're excited to have you join us on Safe Bill!
            </p>
        </div>

        <!-- Project Details -->
        <div style="background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 12px; padding: 25px; margin-bottom: 30px;">
            <h2 style="color: #1e3a8a; font-size: 20px; font-weight: 600; margin: 0 0 15px 0;">
                ðŸŽ¯ Project Invitation
            </h2>
            <p style="color: #374151; font-size: 16px; line-height: 1.6; margin: 0 0 15px 0;">
                You have been invited to the Safe Bill portal as a <strong>buyer</strong> on the 
                <strong>"{{ project_name }}"</strong> project.
            </p>
            <p style="color: #374151; font-size: 16px; line-height: 1.6; margin: 0;">
                This project has been created specifically for you, and we're looking forward to working together!
            </p>
        </div>

        <!-- Action Required -->
        <div style="background: #fef3c7; border: 1px solid #f59e0b; border-radius: 12px; padding: 25px; margin-bottom: 30px;">
            <h3 style="color: #92400e; font-size: 18px; font-weight: 600; margin: 0 0 15px 0;">
                âš¡ Action Required
            </h3>
            <p style="color: #92400e; font-size: 16px; line-height: 1.6; margin: 0 0 15px 0;">
                <strong>In order to accept this invitation, you must be logged in as a buyer on Safe Bill.</strong>
            </p>
        </div>

        <!-- New User Section -->
        <div style="background: #ecfdf5; border: 1px solid #10b981; border-radius: 12px; padding: 25px; margin-bottom: 30px;">
            <h3 style="color: #065f46; font-size: 18px; font-weight: 600; margin: 0 0 15px 0;">
                ðŸ†• New to Safe Bill?
            </h3>
            <p style="color: #065f46; font-size: 16px; line-height: 1.6; margin: 0 0 20px 0;">
                If you're new to Safe Bill, you'll need to sign up as an <strong>individual buyer</strong> first.
            </p>
            <div style="text-align: center;">
                <a href="{{ frontend_url }}/buyer-register" 
                   style="display: inline-block; background: #10b981; color: white; text-decoration: none; padding: 14px 28px; border-radius: 8px; font-weight: 600; font-size: 16px;">
                    ðŸš€ Sign Up as Individual Buyer
                </a>
            </div>
            <p style="color: #065f46; font-size: 16px; line-height: 1.6; margin: 20px 0 20px 0;">
                Alternatively, you can register as a <strong>professional buyer</strong> using your <strong>SIRET</strong> number.
            </p>
            <div style="text-align: center; margin-bottom: 0;">
                <a href="{{ frontend_url }}/professional-buyer" 
                   style="display: inline-block; background: #0ea5e9; color: white; text-decoration: none; padding: 14px 28px; border-radius: 8px; font-weight: 600; font-size: 16px;">
                    ðŸ§¾ Register as Professional Buyer (SIRET)
                </a>
            </div>
            <p style="color: #065f46; font-size: 14px; line-height: 1.6; margin: 20px 0 0 0;">
                <strong>Note:</strong> You may also visit the 
                <a href="{{ frontend_url }}" style="color: #065f46; text-decoration: underline;">Safe Bill portal</a> to onboard as a professional buyer with your SIRET number.
            </p>
        </div>

        <!-- Existing User Section -->
        <div style="background: #eff6ff; border: 1px solid #3b82f6; border-radius: 12px; padding: 25px; margin-bottom: 30px;">
            <h3 style="color: #1e40af; font-size: 18px; font-weight: 600; margin: 0 0 15px 0;">
                âœ… Already on Safe Bill?
            </h3>
            <p style="color: #1e40af; font-size: 16px; line-height: 1.6; margin: 0 0 20px 0;">
                If you're not new and have already completed onboarding, you can directly open the invitation:
            </p>
            <div style="text-align: center;">
                <a href="{{ invitation_url }}" 
                   style="display: inline-block; background: #3b82f6; color: white; text-decoration: none; padding: 14px 28px; border-radius: 8px; font-weight: 600; font-size: 16px;">
                    ðŸ”— Open Project Invitation
                </a>
            </div>
        </div>

        <!-- Next Steps -->
        <div style="background: #f3f4f6; border: 1px solid #d1d5db; border-radius: 12px; padding: 25px; margin-bottom: 30px;">
            <h3 style="color: #374151; font-size: 18px; font-weight: 600; margin: 0 0 15px 0;">
                ðŸ“‹ Next Steps
            </h3>
            <ol style="color: #374151; font-size: 16px; line-height: 1.6; margin: 0; padding-left: 20px;">
                <li style="margin-bottom: 10px;">Complete your onboarding process (if new)</li>
                <li style="margin-bottom: 10px;">Come back and open the invitation link</li>
                <li style="margin-bottom: 10px;">Review project details and get started!</li>
            </ol>
        </div>

        <!-- Alternative Method -->
        <div style="background: #f9fafb; border: 1px solid #e5e7eb; border-radius: 12px; padding: 25px; margin-bottom: 30px;">
            <h3 style="color: #374151; font-size: 18px; font-weight: 600; margin: 0 0 15px 0;">
                ðŸ”‘ Alternative Method
            </h3>
            <p style="color: #6b7280; font-size: 16px; line-height: 1.6; margin: 0 0 15px 0;">
                You can also manually copy and paste this invitation link:
            </p>
            <div style="background: #f3f4f6; border: 1px solid #d1d5db; border-radius: 8px; padding: 15px; margin-bottom: 15px;">
                <p style="color: #374151; font-size: 14px; font-family: monospace; margin: 0; word-break: break-all;">
                    {{ invitation_url }}
                </p>
            </div>
            <p style="color: #6b7280; font-size: 14px; line-height: 1.6; margin: 0;">
                <strong>Invitation Code:</strong> {{ invitation_token }}
            </p>
        </div>

        <!-- Security Notice -->
        <div style="background: #fef2f2; border: 1px solid #ef4444; border-radius: 12px; padding: 25px; margin-bottom: 30px;">
            <h3 style="color: #991b1b; font-size: 18px; font-weight: 600; margin: 0 0 15px 0;">
                ðŸ”’ Security Notice
            </h3>
            <p style="color: #991b1b; font-size: 16px; line-height: 1.6; margin: 0 0 15px 0;">
                This invitation link is secure and will expire in <strong>2 days</strong> for your protection.
            </p>
            <p style="color: #991b1b; font-size: 16px; line-height: 1.6; margin: 0;">
                Please do not share this link with anyone else. If you need a new invitation, please contact the project creator.
            </p>
        </div>

        <!-- Footer -->
        <div style="text-align: center; margin-top: 40px; padding-top: 30px; border-top: 1px solid #e5e7eb;">
            <p style="color: #6b7280; font-size: 14px; margin: 0 0 10px 0;">
                Welcome to Safe Bill! We're excited to have you on board.
            </p>
            <p style="color: #6b7280; font-size: 14px; margin: 0;">
                If you have any questions, please don't hesitate to contact our support team.
            </p>
        </div>
    </div>
</div>
{% endblock %}
